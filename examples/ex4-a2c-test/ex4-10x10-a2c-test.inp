#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
#                                 NEORL Example 4 
# Description: A2C agent test for 10x10 BWR assembly using "testmodel.pkl" pre-trained model 
# Uploader: Majdi I. Radaideh 
# Date: 03/22/2020
# External Modules: CASMO4, testmodel.pkl
# Methods: A2C (1 core)
#%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

#------------------------------------------------------------------------------
# General Card
# env: enviroment name, exepath: this is the full path to casmo4 binary
# nactions: 19 enrichment to pick from 
# xsize: number of rod positions in the assembly (51)
# xsize_plot: this is for csv logging only, since each position could
#             have enrichment and gad concentraiton, so xsize_plot=xsize*2 = 102
# ysize: refers to the output/responses to be monitored for each pattern. 
# ynames: the names/headers of the outputs in the csv loggers. 
# neorl_mode: this is for development purposes to check the input parser without executing 
#              methods. It is by default set to neorl_mode=run. The user can use test mode
#			  to check the syntax before running algorathims. 
#------------------------------------------------------------------------------

READ GENERAL
 
env= casmo10x10:casmo10x10-v0  
#if only exe name is given, neorl tries to use which to infer absolute path (which is more recommended)                               
exepath= casmo4e      
maxcores= 16                       
nactions = 19
xsize = 51
xsize_plot = 102
ysize = 6
ynames= Max kinf, Enrichment, PPF, Burnup, Num of Gad Rods, Invalid Actions  

END GENERAL

#------------------------------------------------------------------------------
# General Card
# mode: test mode for A2C agent, only 1 core is allowed
# model_load_path: path to the pretrained model
# render: is to plot the enviroment via "self.render()" if exists in the env
# n_eval_episodes: total number of test episodes to run 
#------------------------------------------------------------------------------

READ A2C

casename=a2c
mode=test
model_load_path=./testmodel.pkl
render=True
n_eval_episodes=2

END A2C
